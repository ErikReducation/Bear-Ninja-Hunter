<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A rock paper scissors type game">
    <meta name="keywords" content="Bear Hunter Ninja">
    <meta name="author" content="Erik Rosenbalm">
    <title>Bear Hunter Ninja</title>
  </head>
  
  <body>

     <!--Here is where our html console lives-->
    <p id="output"></p>
    <p id="output2"></p>
    <p id="output3"></p>

    <!--Introduction-->
    <script>
        let nameTag = prompt('Welcome to Bear Hunter Ninja! Please enter your name to get started: ');
        //ask user for name
        let greeting = "Hi " + nameTag +  " Let\'s Play!";
        alert(`${greeting}`);
        //say hello to user
        const halStrat = ['bear', 'ninja', 'hunter'];
        let halChoice = 0; //default bear
        let userChoice = '';
        let donePlaying = false;
        let winTotal = 0;
        let loseTotal = 0;
        let tieTotal = 0;
    </script>
    <!-- TODO 
    Handle invalid inputs such as empty response, any string that isn't Bear, Ninja, or Hunter, clicking Cancel, etc
    Don't use user defined functions
    Comment code
    Unique variable names
    
    
    -->
    <!--Game-->
    <script>
        
        //begin loop
       do {
        halChoice = halStrat[Math.floor(Math.random() * 3)]; // choose one of 3 from array at random. Possible values: 0,1,2
        //user picks one of three roles
        userChoice = prompt('Who are you: Bear, Ninja, or Hunter?').toLowerCase();

        //3 second countdown
      
        //write lineup to html console
        document.getElementById('output').innerHTML = `${nameTag} you picked ${userChoice}! <br><br> The computer picked ${halChoice}!`;
        //write lineup to javascript console
        console.log(`${nameTag} you picked ${userChoice}! \n The computer picked ${halChoice}!`);
       

        //game logic..
        let lineup;
        if (halChoice === 'bear') {
          if (userChoice === 'bear') {
            lineup = 1;
          }
          else if (userChoice === 'ninja') {
            lineup = 9;
          } else { //user picked hunter
            lineup = 6;
          }
        }
        else if (halChoice === 'hunter') {
           if (userChoice === 'bear') {
            lineup = 8;
          }
          else if (userChoice === 'ninja') {
            lineup = 5;
          } else { //user picked hunter
            lineup = 3;
          }
        }
        else if (halChoice === 'ninja') {
           if (userChoice === 'bear') {
            lineup = 4;
          }
          else if (userChoice === 'ninja') {
            lineup = 2;
          } else { //user picked hunter
            lineup = 7;
          }
        } else {}
        
        //partitioned switch
        let outcome = '';
        switch (lineup) {
          case 1:
          case 2:
          case 3:
            outcome = 'tie';
            break;
          case 4:
          case 5:
          case 6:
            outcome = 'win';
            break;
          case 7:
          case 8:
          case 9:
            outcome = 'lose';
            break;
        }
      
        //write win/lose to html and console
        //win
        if (outcome === 'win') {
          document.getElementById('output2').innerHTML = "You Win!!";
          console.log("You Win!!");
          winTotal++;
        }
        //lose
        else if (outcome === 'lose') {
          document.getElementById('output2').innerHTML = "You Lose!!";
          console.log("You Lose!!");
          loseTotal++;
        }
        //tie
        else {
          document.getElementById('output2').innerHTML = "It\'s a tie.";
          console.log("It\'s a tie.");
          tieTotal++;
        }
        //ask if done playing
        //end loop
       } while (!donePlaying)
        //print overall game stats and write personalized goodbye
        document.getElementById('output3').innerHTML = `You won ${winTotal} times, lost ${loseTotal} times, and tied ${tieTotal} times. Congratulations, ${nameTag}!`;
      
    </script>
 </body>
</html>
